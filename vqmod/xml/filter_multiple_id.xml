<?xml version="1.0" encoding="UTF-8"?>
<modification>
    <name>filterMultipleID</name>
    <version>1.0.0</version>
    <author>Basheir Hassan</author>
    <code>filterMultipleID</code>


    <file path="admin/view/template/catalog/product_list.twig">
        <operation error="abort">
            <search><![CDATA[<label class="control-label" for="input-status">{{ entry_status }}</label>]]></search>
            <add position="before"><![CDATA[
	<!-- filterUPCSKU -->
			</div>
			<div class="form-group">
                <label class="control-label" for="input-id">filter Multiple ID </label>
                <input type="text" data-role="tagsinput" name="filter_MultipleID" value="{{ filter_MultipleID }}"  id="input-MultipleID" class="form-control" />
			</div>
			<div class="form-group">
	<!-- filterUPCSKU end -->
			]]></add>
        </operation>


        <operation error="abort">
            <search><![CDATA[{{ footer }}]]></search>
            <add position="before"><![CDATA[
	<!-- filterMultipleID -->
		<script src="./view/javascript/bootstrap-tagsinput/bootstrap-tagsinput.min.js"></script>
		<link rel="stylesheet" href="./view/javascript/bootstrap-tagsinput/bootstrap-tagsinput.css">
	<!-- filterMultipleID end -->
			]]></add>
        </operation>


        <operation error="abort">
            <search><![CDATA[var filter_model = $('input[name=\'filter_model\']').val();]]></search>

            <add position="before"><![CDATA[

	var filter_MultipleID = $('input[name=\'filter_MultipleID\']').val();

	if (filter_MultipleID) {
		url += '&filter_MultipleID=' + encodeURIComponent(filter_MultipleID);
	}
			]]></add>
        </operation>


    </file>


    <file path="admin/controller/catalog/product.php">


        <operation error="abort">
            <search><![CDATA[$filter_model = '';]]></search>

            <add position="after" offset="1"><![CDATA[

		if (isset($this->request->get['filter_MultipleID'])) {
			$filter_MultipleID = $this->request->get['filter_MultipleID'];
		} else {
			$filter_MultipleID = '';
		}
	// filterMultipleID end
			]]></add>
        </operation>


        <operation error="abort">
            <search><![CDATA[$url .= '&filter_model=' . urlencode(html_entity_decode($this->request->get['filter_model'], ENT_QUOTES, 'UTF-8'));]]></search>

            <add position="after" offset="1"><![CDATA[
	// filterMultipleID
		if (isset($this->request->get['filter_image'])) {
			$url .= '&filter_image=' . $this->request->get['filter_image'];
		}

		if (isset($this->request->get['filter_MultipleID'])) {
			$url .= '&filter_MultipleID=' . $this->request->get['filter_MultipleID'];
		}
	// filterMultipleID end
			]]></add>
        </operation>


        <operation error="abort">
            <search><![CDATA['filter_model'	  => $filter_model,]]></search>


            <add position="after"><![CDATA[
	// filterMultipleID
			'filter_MultipleID'	 	  => $filter_MultipleID,
	// filter_MultipleID end
			]]></add>
        </operation>


        <operation error="abort">
            <search><![CDATA[$data['filter_model'] = $filter_model;]]></search>

            <add position="after"><![CDATA[
	        // filter_MultipleID
		        $data['filter_MultipleID'] = $filter_MultipleID;
	        // filter_MultipleID end
			]]></add>
        </operation>


    </file>


    <file path="admin/model/catalog/product.php">
        <operation error="abort">
            <search><![CDATA[if (!empty($data['filter_model'])) {]]></search>


            <add position="before"><![CDATA[

	    // filter_MultipleID
		if (isset($data['filter_MultipleID']) && $data['filter_MultipleID'] !== '') {

		     $sql .= " AND p.product_id IN (".$data['filter_MultipleID'] .")" ;
		}
			]]></add>
        </operation>


    </file>


</modification>
